{"version":3,"sources":["webpack:///./assets/js/theme/category.js"],"names":["Category","onReady","$","length","initFacetedSearch","onSortBySubmit","bind","hooks","on","showmore_product","$productListingContainer","$facetedSearchContainer","productsPerPage","context","categoryProductsPerPage","requestOptions","config","category","shop_by_price","products","limit","template","productListing","sidebar","showMore","facetedSearch","FacetedSearch","content","html","animate","scrollTop","check_link","next","addClass","document","e","preventDefault","nextPage","link","find","attr","ajax","type","url","replace","success","data","append","children","removeClass","themevale_AddOption","CatalogPage"],"mappings":"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","file":"theme-bundle.chunk.19.js","sourcesContent":["import $ from 'jquery';\nimport { hooks } from '@bigcommerce/stencil-utils';\nimport CatalogPage from './catalog';\nimport Pace from 'pace';\nimport FacetedSearch from './common/faceted-search';\nimport themevale_AddOption from './themevale/themevale_AddOptionForProduct';\n\nexport default class Category extends CatalogPage {\n    onReady() {\n        if ($('#facetedSearch').length > 0) {\n            this.initFacetedSearch();\n        } else {\n            this.onSortBySubmit = this.onSortBySubmit.bind(this);\n            hooks.on('sortBy-submitted', this.onSortBySubmit);\n        }\n\n        this.showmore_product();\n    }\n\n    initFacetedSearch() {\n        const $productListingContainer = $('#product-listing-container');\n        const $facetedSearchContainer = $('#faceted-search-container');\n        const productsPerPage = this.context.categoryProductsPerPage;\n        const requestOptions = {\n            config: {\n                category: {\n                    shop_by_price: true,\n                    products: {\n                        limit: productsPerPage,\n                    },\n                },\n            },\n            template: {\n                productListing: 'category/product-listing',\n                sidebar: 'category/sidebar',\n            },\n            showMore: 'category/show-more',\n        };\n\n        this.facetedSearch = new FacetedSearch(requestOptions, (content) => {\n            $productListingContainer.html(content.productListing);\n            $facetedSearchContainer.html(content.sidebar);\n            this.showmore_product();\n\n            $('html, body').animate({\n                scrollTop: 0,\n            }, 100);\n        });\n    }\n\n    showmore_product() {\n        const context = this.context;\n        var check_link = $(\".pagination-item--current\").next();\n        if (check_link.length === 0) {\n            $('#button-showmore-category').addClass('disable');\n        } else {\n            $(document).on('click', '#button-showmore-category', function(e){\n                e.preventDefault();\n                var nextPage = $(\".pagination-item--current\").next(),\n                    link = nextPage.find(\"a\").attr(\"href\");\n                $('#button-showmore-category').addClass('loadding');\n                $.ajax({\n                    type: 'get',\n                    url: link.replace(\"http://\", \"//\"),\n                    context: this.content,\n                    success: function(data) {\n                        if ($(data).find('#productLayout').length > 0) {\n                            $('#productLayout').append($(data).find('#productLayout').children());\n                            $('.pagination-list').html($(data).find(\".pagination-list\").html());\n                            $('#button-showmore-category').removeClass('loadding');\n                            nextPage = $(\".pagination-item--current\").next();\n                            if (nextPage.length === 0) {\n                                $('#button-showmore-category').addClass('disable');\n                            }\n                            themevale_AddOption(context);\n                        }\n                    }\n                })\n            })\n        }\n    }\n}\n"],"sourceRoot":""}