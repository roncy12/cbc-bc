{"components/themevale/products/ask-an-expert":"<div id=\"ask-an-expert\" class=\"modal\" data-reveal>\r\n    <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n            <h2 class=\"modal-header-title\">Have Questions?</h2>\r\n            <a href=\"#\" class=\"modal-close\" aria-label=\"{{lang 'common.close'}}\" role=\"button\">\r\n                <span aria-hidden=\"true\">&#215;</span>\r\n            </a>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n            <div id=\"contact_results\"></div>\r\n            <div class=\"form-inner\">\r\n                <div class=\"title-wrapper\">\r\n                    <h4 class=\"title\">Ask the Fashion Expert anything on Ella Boutique</h4>\r\n                    <div class=\"description\">We will follow up with you via email within 24-36 hours</div>\r\n                </div>\r\n                <div class=\"questions\">Please answer the following questionnaire</div>\r\n                <form class=\"form\" id=\"contact_form\">\r\n                    <fieldset class=\"form-fieldset\">\r\n                        <div class=\"form-field\">\r\n                            <input required=\"true\" type=\"text\" class=\"form-input\" name=\"customer_name\" placeholder=\"Your Name\" value=\"{{customer.name}}\">\r\n                        </div>\r\n                        <div class=\"form-field\">\r\n                            <input required=\"true\" type=\"text\" class=\"form-input\" name=\"customer_email\" placeholder=\"Email Address\" value=\"{{customer.email}}\">\r\n                        </div>\r\n                        <div class=\"form-field\">\r\n                            <input required=\"true\" type=\"text\" class=\"form-input\" name=\"customer_phone\" placeholder=\"Phone Number\" value=\"{{customer.phone}}\">\r\n                        </div>\r\n                        <div class=\"form-field form-field-radio\">\r\n                            <label class=\"form-label\">Do you need:</label>\r\n                            <input class=\"form-radio\" id=\"pricing-radio\" type=\"radio\" name=\"type_package\" checked value=\"Pricing\">\r\n                            <label class=\"form-label\" for=\"pricing-radio\">Pricing</label>\r\n                            <input class=\"form-radio\" id=\"answers-radio\" type=\"radio\" name=\"type_package\" value=\"Answers\">\r\n                            <label class=\"form-label\" for=\"answers-radio\">Answers</label>\r\n                            <input class=\"form-radio\" id=\"both-radio\" type=\"radio\" name=\"type_package\" value=\"Pricing & Answers\">\r\n                            <label class=\"form-label\" for=\"both-radio\">Both</label>\r\n                        </div>\r\n                        <div class=\"form-field\">\r\n                            <label class=\"form-label\" for=\"comment-area\">What can i help you with today ?</label>\r\n                            <textarea name=\"message\" cols=\"30\" rows=\"6\" class=\"form-input\" id=\"comment-area\" required=\"true\"></textarea>\r\n                        </div>\r\n                        <div class=\"form-field form-field-radio\">\r\n                            <label class=\"form-label form-label-custom\">How would you like me to contact you ?</label>\r\n                            <input class=\"form-radio\" id=\"phone-radio\" type=\"radio\" name=\"type_contact\" checked value=\"Phone\">\r\n                            <label class=\"form-label\" for=\"phone-radio\">Phone</label>\r\n                            <input class=\"form-radio\" id=\"email-radio\" type=\"radio\" name=\"type_contact\" value=\"Email\">\r\n                            <label class=\"form-label\" for=\"email-radio\">Email</label>\r\n                            <input class=\"form-radio\" id=\"both-radio-2\" type=\"radio\" name=\"type_contact\" value=\"Phone & Email\">\r\n                            <label class=\"form-label\" for=\"both-radio-2\">Both</label>\r\n                        </div>\r\n                        <div class=\"form-actions\">\r\n                            <input type=\"submit\" class=\"button button--primary\" id=\"ask-an-expert-button\" value=\"Send Question\">\r\n                        </div>\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script type=\"text/javascript\">\r\n    $(document).ready(function() {\r\n        $(\"#ask-an-expert-button\").click(function() {\r\n            var ask_proceed = true;\r\n            //simple validation at client's end\r\n            //loop through each field and we simply change border color to red for invalid fields\r\n            $(\"#contact_form input[required=true], #contact_form textarea[required=true]\").each(function() {\r\n                if (!$.trim($(this).val())) { //if this field is empty\r\n                    $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                    ask_proceed = false; //set do not proceed flag\r\n                } else {\r\n                    $(this).parent('.form-field').removeClass('form-field--error').addClass('form-field--success');\r\n                }\r\n                //check invalid email\r\n                var email_reg = /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/;\r\n                if ($(this).attr(\"name\") == \"customer_email\" && !email_reg.test($.trim($(this).val()))) {\r\n                    $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                    ask_proceed = false; //set do not proceed flag\r\n                }\r\n            });\r\n\r\n            if (ask_proceed) //everything looks good! proceed...\r\n            {\r\n                //get input field values data to be sent to server\r\n                ask_post_data = {\r\n                    'api': 'i_send_mail',\r\n                    'subject':   '{{theme_settings.themevale_ask_an_expert_subject}}',\r\n                    'from_name': '{{theme_settings.themevale_ask_an_expert_name}}',\r\n                    'email':     '{{theme_settings.themevale_ask_an_expert_email}}',\r\n                    'email_from': $('#contact_form input[name=customer_email]').val(),\r\n                    'message': '<h2>ASK AN EXPERT</h2><table>\\\r\n                            <tr><td><strong>Your Name</strong></td><td>' + $('#contact_form input[name=customer_name]').val() + '</td></tr>\\\r\n                            <tr><td><strong>Email Address</strong></td><td>' + $('#contact_form input[name=customer_email]').val() + '</td></tr>\\\r\n                            <tr><td><strong>Phone Number</strong></td><td>' + $('#contact_form input[name=customer_phone]').val() + '</td></tr>\\\r\n                            <tr><td><strong>How would you like me to contact you ?</strong></td><td>' + $('#contact_form input[name=type_contact]:checked').val() + '</td></tr>\\\r\n                            <tr><td><strong>Do you need</strong></td><td>' + $('#contact_form input[name=type_package]:checked').val() + '</td></tr>\\\r\n                            <tr><td><strong>What can i help you with today ?</strong></td><td>' + $('#contact_form textarea[name=message]').val() + '</td></tr>\\\r\n                        </table>'\r\n                };\r\n\r\n                //Ajax post data to server\r\n                $.post('https://themevale.net/tools/sendmail/ask-an-expert/', ask_post_data, function(response) {\r\n                    if (response.type == 'error') { //load json data from server and output message\r\n                        output = '<div class=\"error\">' + response.text + '</div>';\r\n                    } else {\r\n                        output = '<div class=\"alert alert-success\">Thank you. We\\'ve received your feedback and will respond shortly.</div>';\r\n                        //reset values in all input fields\r\n                        $(\"#contact_form  input[required=true], #contact_form textarea[required=true]\").val('');\r\n                        $(\".form-inner\").hide(); //hide form after success\r\n                    }\r\n                    $(\"#contact_results\").hide().html(output).show();\r\n                }, 'json');\r\n            }\r\n        });\r\n\r\n        //reset previously set border colors and hide all message on .keyup()\r\n        $(\"#contact_form input[required=true], #contact_form textarea[required=true]\").keyup(function() {\r\n            if (!$.trim($(this).val())) { //if this field is empty\r\n                $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                ask_proceed = false; //set do not proceed flag\r\n            } else {\r\n                $(this).parent('.form-field').removeClass('form-field--error').addClass('form-field--success');\r\n            }\r\n            //check invalid email\r\n            var email_reg = /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/;\r\n            if ($(this).attr(\"name\") == \"customer_email\" && !email_reg.test($.trim($(this).val()))) {\r\n                $(this).parent('.form-field').removeClass('form-field--success').addClass('form-field--error');\r\n                ask_proceed = false; //set do not proceed flag\r\n            }\r\n            $(\"#contact_results\").hide();\r\n        });\r\n    });\r\n</script>\r\n"}
