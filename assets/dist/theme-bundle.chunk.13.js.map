{"version":3,"sources":["webpack:///./assets/js/theme/brands.js","webpack:///./assets/js/theme/themevale/themevale_AZbrands.js"],"names":["Brands","onReady","context","themeSettings","themevale_brandlayout","azbrands","AZBrands","loaded","brandpage_brands_per_page","PageManager","limit","$brands","$","length","$atozBrands","document","getElementById","data","generateAtoZBrands","updateAtoZBrands","url","loadMoreBrands","azBrandsTableID","attr","$atozBrandsTable","append","ch","i","String","fromCharCode","addClass","children","on","event","preventDefault","$a","target","removeClass","parent","each","el","$el","code","letter","charAt","toLowerCase","$group","$li","$brandList","find","$elIns","j","el2","$el2","code2","insertAfter","appendTo","setTimeout","e","check","prev","temp","text","trim","recursive","utils","api","getPage","template","config","brands","err","resp","$brandsList","nextUrl"],"mappings":"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","file":"theme-bundle.chunk.13.js","sourcesContent":["import PageManager from './page-manager';\nimport $ from 'jquery';\nimport AZBrands from './themevale/themevale_AZbrands';\n\nexport default class Brands extends PageManager {\n    onReady() {\n        // Brands list A to Z\n        if (this.context.themeSettings.themevale_brandlayout === 'aztable') {\n            const azbrands = new AZBrands();\n            azbrands.loaded(this.context.themeSettings.brandpage_brands_per_page);\n        }\n    }\n}\n","import $ from 'jquery';\nimport utils from '@bigcommerce/stencil-utils';\n\n\nexport default class AZBrands {\n    loaded(limit) {\n        const $brands = $('[data-brands-list]');\n        if ($brands.length > 0) {\n            const $atozBrands = $(document.getElementById($brands.data('azbrands')));\n            if ($atozBrands.length > 0) {\n                this.generateAtoZBrands($atozBrands);\n                this.updateAtoZBrands($brands, $atozBrands);\n            }\n            const url = $brands.data('brands-list-next');\n            if (url) {\n                this.loadMoreBrands($brands, url, true, limit);\n            }\n        }\n    }\n\n    generateAtoZBrands($atozBrands) {\n        const azBrandsTableID = `${$atozBrands.attr('id')}Table`;\n        const $atozBrandsTable = $(`#${azBrandsTableID}`);\n\n        $atozBrandsTable.append('<li data-letter=\"\"><a href=\"#\">All</a></li>');\n        var ch = '#';\n        $atozBrands.append(`<div class=\"azBrands-group\" data-letter=\"${ch}\" id=\"azBrands-code-123\"><h3 class=\"azBrands-group-title\">${ch}</h3><ul class=\"brandList\"></ul></div>`);\n        $atozBrandsTable.append(`<li data-letter=\"${ch}\"><a href=\"#azBrands-code-123\" data-target=\"azBrands-code-123\">${ch}</a></li>`);\n\n        for (let i = 97; i < 123; i++) {\n            let ch = '#';\n            if (i < 123) {\n                ch = String.fromCharCode(i);\n            }\n            $atozBrands.append(`<div class=\"azBrands-group\" data-letter=\"${ch}\" id=\"azBrands-code-${i}\"><h3 class=\"azBrands-group-title\">${ch}</h3><ul class=\"brandList\"></ul></div>`);\n            $atozBrandsTable.append(`<li data-letter=\"${ch}\"><a href=\"#azBrands-code-${i}\" data-target=\"azBrands-code-${i}\">${ch}</a></li>`);\n        }\n\n        $atozBrands.addClass('active-all');\n        $atozBrands.children().addClass('is-active');\n        $atozBrandsTable.children(':first').addClass('is-active');\n\n        $atozBrandsTable.on('click', 'a', (event) => {\n            event.preventDefault();\n\n            const $a = $(event.target);\n\n            $atozBrandsTable.children('li').removeClass('is-active');\n            $a.parent().addClass('is-active');\n\n            const target = $a.data('target');\n            if (target) {\n                $atozBrands.children('.azBrands-group').removeClass('is-active');\n                $atozBrands.children(`#${target}`).addClass('is-active');\n                $atozBrands.removeClass('active-all');\n            } else {\n                $atozBrands.children('.azBrands-group').addClass('is-active');\n                $atozBrands.addClass('active-all');\n            }\n        });\n    }\n\n    updateAtoZBrands($brands, $atozBrands) {\n        const $atozBrandsTable = $(`#${$atozBrands.attr('id')}Table`);\n        $brands.children('.brand').each((i, el) => {\n            const $el = $(el);\n            const code = String($el.data('brand-code'));\n            const letter = code.charAt(0).toLowerCase();\n\n            let $group = $atozBrands.children(`[data-letter=${letter}]`);\n            if ($group.length === 0) {\n                $group = $atozBrands.children(':first');\n            }\n\n            let $li = $atozBrandsTable.children(`[data-letter=${letter}]`);\n            if ($li.length === 0) {\n                $li = $atozBrandsTable.children(':last');\n            }\n\n            const $brandList = $group.find('.brandList');\n\n            let $elIns;\n            $brandList.children('.brand').each((j, el2) => {\n                const $el2 = $(el2);\n                const code2 = $el2.data('brand-code');\n\n                if (code < code2) {\n                    $elIns = $el2;\n                } else {\n                    return false;\n                }\n            });\n            if ($elIns) {\n                $el.insertAfter($elIns);\n            } else {\n                $el.appendTo($brandList);\n            }\n        });\n\n        setTimeout(function(){ \n            $('#azBrands .azBrands-group ul').each(function(e){\n                var check = ($(this).find(\"li\").length);\n                if(check === 0){\n                    $(this).prev(\".azBrands-group-title\").addClass(\"not_valued\");\n                }\n            });\n\n            $atozBrands.children().each(function(){\n                var temp = $(this).find(\".azBrands-group-title.not_valued\").text().trim();\n                $atozBrandsTable.children().each(function(){\n                    if( $(this).find('a').text().trim() == temp){\n                        $(this).find('a').addClass('disable');\n                    }\n                });\n            });\n        }, 3000);\n    }\n\n    loadMoreBrands($brands, url, recursive, limit) {\n        utils.api.getPage(url, {\n            template: 'themevale/brands-list',\n            config: {\n                brands: {\n                    limit: limit,\n                },\n            },\n        }, (err, resp) => {\n            const $brandsList = $(resp).find('[data-brands-list]');\n            $brands.append($brandsList.children());\n\n            const $atozBrands = $(document.getElementById($brands.data('azbrands')));\n            if ($atozBrands.length > 0) {\n                this.updateAtoZBrands($brands, $atozBrands);\n            }\n\n            const nextUrl = $brandsList.data('brands-list-next');\n            if (nextUrl && recursive) {\n                this.loadMoreBrands($brands, nextUrl, recursive, limit);\n            }\n        });\n    }\n}\n"],"sourceRoot":""}